import{j as e}from"./ui-vendor-DIe0rKUp.js";import{r as t}from"./react-vendor-BiNvwYUx.js";import{X as o}from"./index-CP9FtB6T.js";const s={enabled:!0,testMode:!1,policies:{respectUserExperience:!0,minimumContentGap:300,maxAdsPerPage:3,mobileOptimized:!0,accessibilityCompliant:!0},popups:{enabled:!1,entryDelay:3e4,scrollThreshold:75,frequency:"once-session",respectCookieConsent:!0,mobileDisabled:!0},publisherId:"ca-pub-4997972039382567",adSlots:{"content-top":"7044876068","content-mid":"7044876068","content-bottom":"7044876068","sidebar-top":"7044876068","sidebar-mid":"7044876068","entry-popup":"2469074914","scroll-popup":"7256204022","exit-popup":"3882228932","services-between":"7044876068","about-expertise":"7044876068","contact-info":"7044876068","resources-featured":"7044876068","academy-courses":"7044876068","industries-solutions":"7044876068","mobile-header":"7044876068","mobile-content":"7044876068","mobile-footer":"7044876068",header:"9345363531",contentTop:"9345363531",contentMiddle:"9345363531",contentBottom:"9345363531",sidebar:"9345363531",footer:"9345363531",auto:"auto"},formats:{leaderboard:{width:728,height:90,format:"horizontal",placement:"header/footer"},mediumRectangle:{width:300,height:250,format:"rectangle",placement:"content/sidebar"},skyscraper:{width:300,height:600,format:"vertical",placement:"sidebar"},banner:{width:320,height:50,format:"mobile",placement:"mobile-only"},responsive:{format:"auto",fullWidth:!0,placement:"any"}},compliance:{validateContent:(e,t)=>e>=300&&t,validateAdDensity:(e,t)=>t/(e/1e3)<=.3,validateUserExperience:(e,t)=>e>=30&&t>=25}},n=()=>{const e={...s},t="localhost"!==window.location.hostname&&!window.location.hostname.includes("127.0.0.1")&&!window.location.hostname.includes("lovable.app");return e.testMode=!t,e.popups.enabled=!1,e.testMode&&(e.publisherId="ca-pub-3940256099942544",Object.keys(e.adSlots).forEach(t=>{e.adSlots[t]="6300978111"})),e},i=({type:n,delay:i=1e4,frequency:r,adSlot:a,size:l="200x150",scrollTrigger:d=50,onClose:c,className:u=""})=>{const[m,p]=t.useState(!1),[h,y]=t.useState(!1),{width:b,height:g}=(e=>{const t={"300x250":{width:300,height:250},"400x300":{width:400,height:300},"500x400":{width:500,height:400},"320x240":{width:320,height:240},"250x200":{width:250,height:200},"200x150":{width:200,height:150}};return t[e]||t["200x150"]})(l),f=()=>{const e=`popup_${n}_${r}`;switch(r){case"once-session":return!sessionStorage.getItem(e);case"once-page":return!sessionStorage.getItem(`${e}_${window.location.pathname}`);default:return!0}},w=()=>{const e=`popup_${n}_${r}`,t=Date.now();switch(r){case"once-session":sessionStorage.setItem(e,t.toString());break;case"once-page":sessionStorage.setItem(`${e}_${window.location.pathname}`,t.toString())}},x=()=>{p(!1),y(!0),w(),c&&c()};return t.useEffect(()=>{if("entry"===n&&!h&&f()){const e=setTimeout(()=>{p(!0),w()},i);return()=>clearTimeout(e)}},[n,i,h]),t.useEffect(()=>{if("scroll"===n&&!h&&f()){const e=()=>{window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100>=d&&(p(!0),w(),window.removeEventListener("scroll",e))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}},[n,d,h]),t.useEffect(()=>{if("exit"===n&&!h&&f()){const e=e=>{e.clientY<=0&&(p(!0),w())};return document.addEventListener("mouseleave",e),()=>document.removeEventListener("mouseleave",e)}},[n,h]),t.useEffect(()=>{if("sticky"===n&&f()){const e=setTimeout(()=>{p(!0)},i);return()=>clearTimeout(e)}},[n,i]),t.useEffect(()=>{if(m&&"undefined"!=typeof window&&window.adsbygoogle)try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}},[m]),m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[9998]",onClick:"sticky"!==n?x:void 0}),e.jsx("div",{className:`fixed z-[9999] ${"sticky"===n?"bottom-4 right-4":"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"} ${u}`,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden animate-in slide-in-from-bottom-4 duration-300",style:{width:"sticky"===n?200:b,maxWidth:"90vw",maxHeight:"90vh"},children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 border-b",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Advertisement"}),e.jsx("button",{onClick:x,className:"p-1 hover:bg-gray-200 rounded-full transition-colors","aria-label":"Close advertisement",children:e.jsx(o,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{className:"p-4",children:e.jsx("ins",{className:"adsbygoogle block",style:{display:"block",width:"sticky"===n?160:b-32,height:"sticky"===n?160:g-32},"data-ad-client":s.publisherId,"data-ad-slot":a,"data-ad-format":"auto","data-full-width-responsive":"true"})})]})})]}):null},r=({page:t})=>{var o,s,r;const a=(()=>{const e=n(),{adSlots:t,popups:o}=e;return e.enabled&&o.enabled?{entry:{enabled:!1,delay:o.entryDelay,adSlot:t["entry-popup"],size:"300x250",frequency:"once-session"},scroll:{enabled:!1,scrollTrigger:o.scrollThreshold,adSlot:t["scroll-popup"],size:"300x250",frequency:"once-session"},exit:{enabled:!1,adSlot:t["exit-popup"],size:"300x250",frequency:"once-session"}}:{}})();return e.jsxs(e.Fragment,{children:[(null==(o=a.entry)?void 0:o.enabled)&&e.jsx(i,{type:"entry",delay:a.entry.delay,frequency:a.entry.frequency,adSlot:a.entry.adSlot,size:a.entry.size}),(null==(s=a.scroll)?void 0:s.enabled)&&e.jsx(i,{type:"scroll",scrollTrigger:a.scroll.scrollTrigger,frequency:a.scroll.frequency,adSlot:a.scroll.adSlot,size:a.scroll.size}),(null==(r=a.exit)?void 0:r.enabled)&&e.jsx(i,{type:"exit",frequency:a.exit.frequency,adSlot:a.exit.adSlot,size:a.exit.size})]})};export{r as P,n as g};
