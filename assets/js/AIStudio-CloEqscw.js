import{j as e}from"./ui-vendor-DIe0rKUp.js";import{r as s}from"./react-vendor-BiNvwYUx.js";import{B as t}from"./button-myd0VjqM.js";import{T as a}from"./select-CYtjxfg5.js";import{C as r,a as i,c as n,d as o,b as l}from"./card-Dt0J8y-5.js";import{B as c}from"./badge-DIFLvZxx.js";import{T as m,a as d,b as x,c as p}from"./tabs-CvYGUfQR.js";import{T as h,S as u}from"./scroll-area-DkYhFxv_.js";import{c as j,u as f}from"./index-BOTiMg6N.js";import{H as g}from"./Header-Drc6DP1Y.js";import{U as N,F as y}from"./Footer-Dt_xF0IC.js";import{P as v}from"./PopupManager-BlN5PatA.js";import{B as b}from"./bot-Dq9glslH.js";import{C as w}from"./chart-column-C1FQf4kE.js";import{S as I}from"./zap-N1LyvQZD.js";import{M as k,S as C}from"./send-BEx_P1Lc.js";import{L as A}from"./loader-circle-C4jDL6fN.js";import"./supabase-vendor-Cyo-_BR-.js";import"./chart-vendor-Se2Vi1xL.js";import"./label-BNBLft3j.js";import"./lock-CTzvbgf5.js";import"./eye-vGiwOqT-.js";import"./calendar-CTHo8r65.js";import"./clock-BW0ubYf5.js";const S=j("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),z=()=>{const[j,z]=s.useState("chat"),[P,J]=s.useState([]),[E,T]=s.useState(""),[W,H]=s.useState(!1),O=s.useRef(null),M=s.useRef(null);s.useEffect(()=>{var e;null==(e=M.current)||e.scrollIntoView({behavior:"smooth"})},[P]);const R=async()=>{var e,s,t,a;if(!E.trim()||W)return;const r={role:"user",content:E};J(e=>[...e,r]),T(""),H(!0);try{const i="https://gtwsglzyyislrgcyfxvt.supabase.co/functions/v1/ai-studio",n=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0d3NnbHp5eWlzbHJnY3lmeHZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNTU1NzMsImV4cCI6MjA3NDczMTU3M30.ha0Ui7HmR_PH9SmgBo0nRcaCsU57Jw1GI_l2M0ymWVg"},body:JSON.stringify({messages:[...P,r].map(e=>({role:e.role,content:e.content})),type:j})});if(!n.ok){if(429===n.status)return void f.error("Rate limit exceeded. Please try again in a moment.");if(402===n.status)return void f.error("AI credits exhausted. Please contact support.");throw new Error("Failed to get AI response")}const o=null==(e=n.body)?void 0:e.getReader(),l=new TextDecoder;if(!o)throw new Error("No response body");let c="",m="",d=!1;for(J(e=>[...e,{role:"assistant",content:""}]);!d;){const{done:e,value:r}=await o.read();if(e)break;let i;for(m+=l.decode(r,{stream:!0});-1!==(i=m.indexOf("\n"));){let e=m.slice(0,i);if(m=m.slice(i+1),e.endsWith("\r")&&(e=e.slice(0,-1)),e.startsWith(":")||""===e.trim())continue;if(!e.startsWith("data: "))continue;const r=e.slice(6).trim();if("[DONE]"===r){d=!0;break}try{const e=null==(a=null==(t=null==(s=JSON.parse(r).choices)?void 0:s[0])?void 0:t.delta)?void 0:a.content;e&&(c+=e,J(e=>{const s=[...e],t=s[s.length-1];return"assistant"===t.role&&(t.content=c),s}))}catch{m=e+"\n"+m;break}}}}catch(i){f.error("Failed to get AI response. Please try again."),J(e=>e.filter((s,t)=>t!==e.length-1||s.content))}finally{H(!1)}},F={chat:{icon:k,title:"Chat Assistant",description:"General conversation and questions",color:"text-blue-500",examples:["Explain quantum computing in simple terms","What are the benefits of AI automation?","How does machine learning work?"]},creative:{icon:I,title:"Creative Writing",description:"Stories, poems, and creative content",color:"text-purple-500",examples:["Write a short story about AI in the future","Create a product description for a smart home device","Generate marketing copy for our automation service"]},code:{icon:S,title:"Code Assistant",description:"Programming help and code examples",color:"text-green-500",examples:["Write a Python function to sort a list","Explain React hooks with examples","How do I connect to a REST API in JavaScript?"]},analyze:{icon:w,title:"Data Analysis",description:"Analysis and insights",color:"text-orange-500",examples:["Analyze the pros and cons of cloud computing","What metrics should I track for e-commerce?","Compare different project management methodologies"]}},G=F[j];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(g,{}),e.jsxs("main",{className:"pt-24 pb-16",children:[e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs(c,{className:"mb-6 px-4 py-2 bg-primary/20 text-primary border-primary/30",children:[e.jsx(b,{className:"inline-block mr-2 h-4 w-4"}),"Powered by AI"]}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["AI ",e.jsx("span",{className:"gradient-text",children:"Studio"})]}),e.jsx("p",{className:"text-xl text-foreground/80 max-w-3xl mx-auto",children:"Experience the power of advanced AI. Chat, create, code, and analyze with cutting-edge AI models."})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(m,{value:j,onValueChange:e=>z(e),className:"mb-8",children:[e.jsx(d,{className:"grid w-full grid-cols-4 mb-6",children:Object.keys(F).map(s=>{const t=F[s],a=t.icon;return e.jsxs(x,{value:s,className:"flex items-center gap-2",children:[e.jsx(a,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:t.title.split(" ")[0]})]},s)})}),Object.keys(F).map(s=>{const a=F[s],c=a.icon;return e.jsx(p,{value:s,children:e.jsxs(r,{className:"glass-card mb-6",children:[e.jsxs(i,{children:[e.jsxs(n,{className:"flex items-center gap-3",children:[e.jsx(c,{className:`h-6 w-6 ${a.color}`}),a.title]}),e.jsx(o,{children:a.description})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-foreground/70",children:"Try these examples:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.examples.map((s,a)=>e.jsx(t,{variant:"outline",size:"sm",onClick:()=>T(s),className:"text-xs",children:s},a))})]})})]})},s)})]})})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(r,{className:"glass-card",children:[e.jsxs(i,{className:"flex flex-row items-center justify-between",children:[e.jsx(n,{children:"Conversation"}),P.length>0&&e.jsxs(t,{variant:"ghost",size:"sm",onClick:()=>{J([]),f.success("Conversation cleared")},className:"text-foreground/60 hover:text-foreground",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Clear"]})]}),e.jsxs(l,{className:"p-6",children:[e.jsx(u,{className:"h-[500px] mb-6 pr-4",ref:O,children:0===P.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-foreground/60",children:[e.jsx(b,{className:"h-16 w-16 mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"Start a conversation"}),e.jsx("p",{className:"text-sm",children:"Ask me anything or try one of the examples above"})]}):e.jsxs("div",{className:"space-y-6",children:[P.map((s,t)=>e.jsxs("div",{className:"flex gap-4 "+("user"===s.role?"justify-end":"justify-start"),children:["assistant"===s.role&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(b,{className:"h-5 w-5 text-primary"})})}),e.jsx("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 "+("user"===s.role?"bg-primary text-primary-foreground":"glass-card"),children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.content})}),"user"===s.role&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center",children:e.jsx(N,{className:"h-5 w-5 text-secondary"})})})]},t)),e.jsx("div",{ref:M})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{value:E,onChange:e=>T(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),R())},placeholder:`Ask ${G.title.toLowerCase()}...`,className:"min-h-[60px] max-h-[200px] resize-none",disabled:W}),e.jsx(t,{onClick:R,disabled:!E.trim()||W,className:"btn-hero self-end",size:"lg",children:W?e.jsx(A,{className:"h-5 w-5 animate-spin"}):e.jsx(C,{className:"h-5 w-5"})})]}),e.jsx("p",{className:"text-xs text-foreground/60 mt-4 text-center",children:"Powered by Google Gemini 2.5 Flash â€¢ Press Enter to send, Shift+Enter for new line"})]})]})})})})]}),e.jsx(y,{}),e.jsx(v,{page:"ai-studio"})]})};export{z as default};
