import{j as e}from"./ui-vendor-DIe0rKUp.js";import{R as t,r as s}from"./react-vendor-BiNvwYUx.js";import{g as r}from"./PopupManager-BlN5PatA.js";import{S as n}from"./skeleton-Dlgcoc9U.js";const i=({slot:n,format:i="auto",responsive:a=!0,className:d="",style:o={}})=>{const l=r(),c=t.useRef(null),[m,u]=t.useState(!1);if(s.useEffect(()=>{if(m||!l.enabled||l.testMode)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting&&!m)try{const s=t.target.getBoundingClientRect();s.width>0&&s.height>0&&window.adsbygoogle&&((window.adsbygoogle=window.adsbygoogle||[]).push({}),u(!0),e.disconnect())}catch(s){}})},{rootMargin:"200px"});return c.current&&e.observe(c.current),()=>e.disconnect()},[l.enabled,l.testMode,m]),!l.enabled)return null;const h=l.adSlots[n]||l.adSlots.auto;return l.testMode?e.jsx("div",{className:`ad-placeholder ${d}`,style:{...o,margin:"20px 0"},children:e.jsxs("div",{className:"relative w-full rounded-lg border border-border bg-muted/30 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-center py-12 px-6",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-3",children:e.jsxs("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),e.jsx("path",{d:"M9 9h6v6H9z",strokeWidth:"2"})]})}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Advertisement Space"}),e.jsx("p",{className:"text-xs text-muted-foreground/60",children:"Development Mode - Real ads will show in production"})]})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-background/80 text-muted-foreground border border-border",children:"Ad"})})]})}):e.jsx("div",{ref:c,className:`adsense-ad ${d}`,style:{...o,margin:"20px auto",maxWidth:"100%",width:"100%",minHeight:"250px",display:"block"},children:e.jsx("div",{style:{minWidth:"300px",minHeight:"250px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("ins",{className:"adsbygoogle",style:{display:"block",minWidth:"300px",minHeight:"250px",width:"100%",maxWidth:"100%"},"data-ad-client":l.publisherId,"data-ad-slot":h,"data-ad-format":a?"auto":i,"data-full-width-responsive":a?"true":"false","aria-label":"Advertisement"})})})},a=s.memo(({children:t,className:r="",minHeight:i="250px"})=>{const[a,d]=s.useState(!1),o=s.useRef(null);return s.useEffect(()=>{const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(setTimeout(()=>d(!0),300),e.disconnect())})},{rootMargin:"300px",threshold:.01});return o.current&&e.observe(o.current),()=>e.disconnect()},[]),e.jsx("div",{ref:o,className:r,style:{minHeight:i},children:a?t:e.jsx(n,{className:"w-full h-full animate-pulse bg-muted/10",style:{minHeight:i}})})});a.displayName="LazyAd";export{i as A,a as L};
