import{j as e}from"./ui-vendor-DIe0rKUp.js";import{R as r,r as s}from"./react-vendor-BiNvwYUx.js";const t=r.memo(({src:r,alt:t,priority:a=!1,blur:o=!0,className:i="",...n})=>{const[c,l]=s.useState(!1),[u,d]=s.useState(a),m=s.useRef(null);return s.useEffect(()=>{if(a||!m.current)return;const e=new IntersectionObserver(r=>{r.forEach(r=>{r.isIntersecting&&(d(!0),e.disconnect())})},{rootMargin:"50px",threshold:.01});return e.observe(m.current),()=>e.disconnect()},[a]),e.jsxs("div",{className:`relative overflow-hidden ${i}`,children:[e.jsx("img",{ref:m,src:u?r:void 0,alt:t,loading:a?"eager":"lazy",decoding:"async",fetchPriority:a?"high":"auto",onLoad:()=>{l(!0)},className:"w-full h-full object-cover transition-all duration-300 "+(o&&!c?"blur-sm scale-105":"blur-0 scale-100"),...n}),o&&!c&&e.jsx("div",{className:"absolute inset-0 bg-muted/20 animate-pulse"})]})});t.displayName="OptimizedImage";export{t as O};
